version: "3"

services: 
    development:
        build:
            context: .
            dockerfile: dockerfile
            target: dev
        ports:
            - "5000:5000"
        env_file: ".env"
    test:
        build:
            context: .
            dockerfile: dockerfile
            target: test
        env_file: ".env.test"
        volumes:
            - ./todo_app:/todo-app/todo_app
    e2e_test:
        build: 
            context: .
            dockerfile: dockerfile
            target: e2e_test
        env_file: ".env" 
